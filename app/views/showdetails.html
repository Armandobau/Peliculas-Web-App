<div class="container-fluid cuerpo cuerpo2" ng-controller="ShowDetailsController">
    <div class="row cuerpo2">
        <div class="col-xs-12 cuerpo2">
            <img class="cabecera" src="{{baseURL+show.jumbotron}}" alt="{{show.name}}">
       </div>
    </div>
    <div class="row cuerpo2">
        <div class="col-xs-12">
            <h3>{{show.name}} 
               <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off" ng-click="addFavorite()">
                   Favoritos
                </button>
                <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off" ng-click="removeFavorite()">
                   Borrar Favorito
                </button>
            </h3>
        </div>
    </div>
    <div class="row cuerpo2">
        <div class="col-xs-12">
            <p>{{show.synopsis}}</p>
        </div>
    </div>
</div>


<div class="container">
    <div class="row cuerpo2 comments" ng-controller="ShowCommentController">
       
        <form class="form-horizontal" name="commentForm" ng-submit="submitComment()" novalidate>
                <div class="form-group" ng-class="{ 'has-error' : commentForm.firstname.$error.required && !commentForm.firstname.$pristine }">
                    <label for="firstname" class="col-xs-12 col-sm-2 control-label">Nombre</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="text" class="form-control" id="firstname" name="firstname" placeholder="Introduce tu nombre" 
                        ng-model="mycomment.author" required>
                        <span ng-show="commentForm.firstname.$error.required && !commentForm.firstname.$pristine" 
                        class="help-block">Tu nombre es obligatorio</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="rating" class="col-xs-12 col-sm-2 control-label rate">Rating</label>
                    <div class="col-xs-12 col-sm-8 rating">
                      <label class="radio-inline">
                            <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="1" ng-model="mycomment.rating"> 1
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="2" ng-model="mycomment.rating"> 2
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio3" value="3" ng-model="mycomment.rating"> 3
                            </label>                            
                            <label class="radio-inline">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio4" value="4" ng-model="mycomment.rating"> 4
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio5" value="5" ng-model="mycomment.rating"> 5
                        </label>
                    </div>
                </div>
                                                                                                                                 
                <div class="form-group" ng-class="{ 'has-error' : commentForm.feedback.$error.required && !commentForm.feedback.$pristine }">
                    <label for="feedback" class="col-xs-12 col-sm-2 control-label">Comentario</label>
                    <div class="col-xs-12 col-sm-8">
                        <textarea class="form-control" id="feedback" name="feedback" rows="6" 
                        ng-model="mycomment.comment" placeholder="Introduce tu comentario" required></textarea>
                        <span ng-show="commentForm.feedback.$error.required && !commentForm.feedback.$pristine" 
                        class="help-block">Tu comentario es obligatorio</span>
                    </div>
                </div> 
                
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary" ng-disabled="commentForm.$invalid">Enviar comentario</button>
                    </div>
                </div>	
        </form>
   
    </div>
    
    
    <div class="row cuerpo2 comments" ng-controller="ShowDetailsController">
        <div class="col-xs-12 col-sm-6 col-sm-offset-2 col-md-7">
            
               <form class="form-inline">
                  <div class="form-group">
                   <label>Comentarios </label>&nbsp;&nbsp;&nbsp;
                    <label><small>Ordenar por: </small></label>
                    <button type="button" class="btn btn-primary btn-xs" ng-click="changeQuery(1)">Rating</button>
                    <button type="button" class="btn btn-primary btn-xs" ng-click="changeQuery(2)">Autor</button>
                    <button type="button" class="btn btn-primary btn-xs" ng-click="changeQuery(3)">Fecha</button>
                  </div>
                </form>
               
                
                <ul class="media-list tab-pane fade in active">
                    <li class="media" ng-repeat="comment in show.comments | orderBy:query ">
                        <blockquote>
                            <p> {{comment.rating}} Stars</p>
                            <p> {{comment.comment}} </p>
                            <footer> {{comment.author}}, {{comment.date | date:'longDate'}} </footer>
                        </blockquote> 
                    </li>
                </ul>               
                
        </div>    
    </div>
    
    
</div>